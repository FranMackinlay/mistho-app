{"version":3,"sources":["services/UsersSrv.js","services/EventEmitterSrv.js","components/LoginComponent/LoginComponent.jsx","components/NavbarComponent/NavbarComponent.jsx","components/LoadingBox/LoadingBox.jsx","services/ArticlesSrv.js","screens/ArticleScreen/ArticleScreen.jsx","screens/ArticlesScreen/ArticlesScreen.jsx","App.js","index.js"],"names":["UsersSrv","userSignIn","a","name","email","password","axios","method","url","data","res","eventEmitter","EventEmitter","Emitter","on","event","fn","once","off","emit","payload","Object","freeze","LoginComponent","props","useState","error","setError","setName","setEmail","setPassword","onSubmit","e","preventDefault","user","_id","localStorage","setItem","JSON","stringify","history","push","className","style","color","type","value","onChange","target","placeholder","NavbarComponent","setUser","src","alt","to","LoadingBox","API_URL","ArticlesSrv","getArticles","token","headers","Authorization","getArticle","link","slug","params","ArticleScreen","article","setArticle","loading","setLoading","location","state","useEffect","parse","getItem","title","img","body","ArticlesScreen","articles","setArticles","length","map","i","pathname","App","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.16f3a757.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst API_URL = '/api';\n\nconst UsersSrv = {\n  userSignIn: async ({ name, email, password }) => {\n    const res = await axios({\n      method: 'post',\n      url: `${API_URL}/users/signin`,\n      data: {\n        name,\n        email,\n        password,\n      }\n    });\n    return res;\n  },\n}\n\nexport default UsersSrv;\n","import EventEmitter from 'eventemitter3';\n\nconst eventEmitter = new EventEmitter();\n\nconst Emitter = {\n  on: (event, fn) => eventEmitter.on(event, fn),\n  once: (event, fn) => eventEmitter.once(event, fn),\n  off: (event, fn) => eventEmitter.off(event, fn),\n  emit: (event, payload) => eventEmitter.emit(event, payload)\n}\n\nObject.freeze(Emitter);\n\nexport default Emitter;\n","import React, { useState } from 'react';\nimport UsersSrv from '../../services/UsersSrv';\nimport Emitter from '../../services/EventEmitterSrv';\n\n\nimport './LoginComponent.css';\n\n\nexport default function LoginComponent(props) {\n\n  const [error, setError] = useState('');\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const onChangeName = e => {\n    e?.preventDefault();\n    setName(e.target.value);\n  }\n\n  const onChangeEmail = e => {\n    e?.preventDefault();\n    setEmail(e.target.value);\n  }\n\n  const onChangePassword = e => {\n    e?.preventDefault();\n    setPassword(e.target.value);\n  }\n\n\n  const onSubmit = async e => {\n    e?.preventDefault();\n    const user = {\n      name,\n      email,\n      password,\n    };\n\n    try {\n      const {data} = await UsersSrv.userSignIn(user);\n      if (data._id) {\n        localStorage.setItem('user', JSON.stringify(data));\n        Emitter.emit('INPUT-USER-LOGIN', user);\n        props.history.push('/articles')\n      }\n    } catch (error) {\n      setError('Invalid username or password');\n    }\n\n  }\n\n\n  return (\n    <div className='login'>\n\t\t\t\t<h1>Welcome!</h1>\n\t\t\t\t<form className=\"df fldc\" onSubmit={onSubmit}>\n          {error && (\n            <span style={{color: 'red'}}>{error}</span>\n          )}\n\t\t\t\t\t<input type='text' value={name} onChange={onChangeName} placeholder='Name..' />\n\t\t\t\t\t<input type='email' value={email} onChange={onChangeEmail} placeholder='Email..' />\n\t\t\t\t\t<input type='password' value={password} onChange={onChangePassword} placeholder='Password..' />\n\t\t\t\t\t<button type='submit'>Login</button>\n\t\t\t\t</form>\n\t\t\t</div>\n  )\n}\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport Emitter from '../../services/EventEmitterSrv';\nimport './NavbarComponent.css';\n\n\nexport default function NavbarComponent() {\n\n  const [user, setUser] = useState('');\n\n  Emitter.on('INPUT-USER-LOGIN', user => setUser(user));\n\n  return (\n    <div className=\"navbar-container\">\n      <header className=\"navbar fm-df fm-jucst fm-ml-2 fm-mt-2\">\n        <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/The_Economist_Logo.svg/1200px-The_Economist_Logo.svg.png\" alt=\"\" />\n        <div className=\"navbar-items fm-df fm-aliic fm-w100 fm-mx-2\">\n          <div className=\"fm-df fm-aliic fm-w100 fm-h100\">\n            <div className=\"navbar-menu navbar-item fm-df fm-aliic fm-w100 fm-mx-2\">\n              <i className=\"fa fa-bars fm-mr-1\"></i>\n              <span>Menu</span>\n            </div>\n            <div className=\"navbar-weekly-edition navbar-item fm-df fm-aliic fm-w100 fm-mx-2\">\n              Weekly Edition\n            </div>\n            <div className=\"navbar-search navbar-item fm-df fm-aliic fm-w100 fm-mx-2\">\n              <i className=\"fa fa-search\"></i>\n              <span className=\"fm-mx-1\">Search</span>\n              <i className=\"fa fa-chevron-down\"></i>\n            </div>\n          </div>\n          <div className=\"navbar-login fm-df fm-aliic fm-h100\">\n            <button className=\"btn btn-primary subscribe\">Subscribe</button>\n            <Link to={`${user.name ? '/articles' : '/login'}`} className=\"fm-df fm-aliic link-to-login\">\n              <span className=\"login-boder fm-df fm-aliic\">{user?.name ? user?.name : 'Login'}</span>\n            </Link>\n          </div>\n        </div>\n      </header>\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function LoadingBox() {\n  return (\n    <div className=\"loading-box\">\n      <i className=\"fa fa-spinner fa-spin\"></i>\n      <span>Loading</span>\n    </div>\n  )\n}\n","import axios from 'axios';\n\nconst API_URL = '/api';\n\nconst ArticlesSrv = {\n  getArticles: async token => {\n    const res = await axios({\n      method: 'get',\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n      url: `${API_URL}/articles`,\n    });\n    return res;\n  },\n  getArticle: async ({ link, slug }, token) => {\n    const res = await axios({\n      method: 'get',\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n      url: `${API_URL}/articles/${slug}`,\n      params: {\n        link,\n      },\n    });\n    return res;\n  },\n\n}\n\nexport default ArticlesSrv;\n","import React, { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom';\nimport LoadingBox from '../../components/LoadingBox/LoadingBox';\nimport ArticlesSrv from '../../services/ArticlesSrv';\nimport './ArticleScreen.css';\n\nexport default function ArticleScreen(props) {\n\n  const [article, setArticle] = useState([])\n  const [loading, setLoading] = useState(true);\n\n  const getArticles = async user => {\n    const {link, slug} = props.location.state;\n    const {data: {article}} = await ArticlesSrv.getArticle({link, slug}, user.token);\n    setArticle(article);\n    setLoading(false);\n  }\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem('user'));\n    if (!user?._id) {\n      props.history.push('/login');\n    } else {\n      getArticles(user);\n    }\n  }, [props]);\n\n  return (\n    <div>\n      {loading ? (<LoadingBox></LoadingBox>) : !article ? (\n        <div>Loading article...</div>\n      ) : (\n        <>\n          <Link to=\"/articles\">\n            <div className=\"fm-abs fm-ml-2 \">\n              <button className=\"btn btn-info\">\n                <i className=\"fa fa-arrow-left fm-mr-1\"></i>\n                <span>Go Back</span>\n              </button>\n            </div>\n          </Link>\n          <div className=\"article-container fm-m-auto fm-pb-2\">\n            <h1 className=\"article-title\">{article.title}</h1>\n            <img className=\"fm-my-3 fm-maw100\" src={article.img} alt=\"\" />\n            <p>{article.body}</p>\n          </div>\n        </>\n      )}\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom';\nimport LoadingBox from '../../components/LoadingBox/LoadingBox';\nimport ArticlesSrv from '../../services/ArticlesSrv';\nimport './ArticlesScreen.css';\n\nexport default function ArticlesScreen(props) {\n\n  const [articles, setArticles] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  const getArticles = async user => {\n    const {data: {articles}} = await ArticlesSrv.getArticles(user.token);\n    setArticles(articles);\n    setLoading(false);\n  }\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem('user'));\n    if (!user) {\n      return props.history.push('/login');\n    } else {\n      return getArticles(user);\n    }\n  }, [props]);\n\n  return (\n    <div>\n      {loading ? (<LoadingBox></LoadingBox>) : articles.length ? (\n        <ul className=\"list-unstyled articles-list fm-df fm-flww fm-jucb fm-px-3\">\n          {articles.map((article, i) => (\n            <li className=\"article-card card fm-mr-3 fm-mb-3\" key={i}>\n              <Link to={{pathname: `/article/${article.slug}`, state: article}} params={article.link}>\n                <div className=\"article text-center\">\n                  <img src={article.img} alt=\"\" className=\"article-img fm-maw100\" />\n                  <h3 className=\"fm-m-0 text-center fm-bold fm-p-2 fm-h50 fm-df fm-aliic\">{article.title}</h3>\n                </div>\n              </Link>\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <div>No articles were found, please try again later!</div>\n      )}\n    </div>\n  )\n}\n","import { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport './App.css';\nimport LoginComponent from './components/LoginComponent/LoginComponent';\nimport NavbarComponent from './components/NavbarComponent/NavbarComponent';\nimport ArticleScreen from './screens/ArticleScreen/ArticleScreen';\nimport ArticlesScreen from './screens/ArticlesScreen/ArticlesScreen';\n\nfunction App() {\n\n  return (\n    <div>\n      <Router>\n        <NavbarComponent></NavbarComponent>\n        <Switch>\n          <Route path=\"/login\" component={LoginComponent} />\n          <Route path=\"/articles\" component={ArticlesScreen} />\n          <Route path=\"/article/:articleSlug\" component={ArticleScreen} />\n          <Route to=\"/\" component={LoginComponent} />\n        </Switch>\n      </Router >\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}